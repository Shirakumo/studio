<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8"/>
    <title><c:splice lquery='(text (format NIL "~@[~a | ~]" tag))'/><c:splice lquery='(text author)'/>'s Studio</title>
    <link rel="stylesheet" href="../static/studio.css" @href="/static/studio/studio.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
  </head>
  <body>
    <article class="studio" id="top">
      <header>
        <h1>Studio</h1>
        <nav>
          <a href="#" @href="studio/"><i class="fas fa-home"></i> Home</a>
          <a href="#" @href="studio/upload"><i class="fas fa-upload"></i> Upload</a>
          <a href="#top"><i class="fas fa-arrow-up"></i> Top</a>
        </nav>
      </header>
      <main class="gallery">
        <section class="info">
          <img src="#" class="avatar" lquery="(attr :src (profile:avatar author 128))" />
          <h2><a href="#" @href="studio/gallery/{0} author" lquery="(text author)">AUTHOR</a></h2>
          <c:if test="tag">
            <c:then><h3 lquery="(text tag)">Tag</h3></c:then>
            <c:else><h3>Gallery</h3></c:else>
          </c:if>
        </section>
        <c:when test="prev">
          <a class="navlink prev" href="#" lquery="(attr :href prev)">Previous Page</a>
        </c:when>
        <section class="images">
          <c:if test="uploads">
            <c:then>
              <time lquery="(text (studio::format-month (first uploads)))">MM.YYYY</time>
              <c:splice iterate="uploads">
                <article class="image" lquery='(add-class (when (rest (studio::upload-files *)) "multiple"))'>
                  <a href="#" lquery="(attr :href (studio::upload-link *))">
                    <c:using value="(studio::upload-files *)">
                      <img src="#" lquery='(attr :src (studio::file-link (first *)))' />
                    </c:using>
                  </a>
                </article>
              </c:splice>
              <c:when test="next">
                <a class="navlink next" href="#" lquery="(attr :href next)">Next Page</a>
              </c:when>
            </c:then>
            <c:else>
              <div class="alert">No further uploads.</div>
            </c:else>
          </c:if>
        </section>
      </main>
      <footer>
        Running on <a href="https://github.com/Shirakumo/studio">Studio</a>
      </footer>
    </article>
  </body>
</html>
